<!doctype html>
<head>
  <title>AVIF and WebP image quality settings</title>
</head>
<link rel="preload" as="fetch" href="./data/image-quality-reference.json" crossorigin>
<link rel="preload" as="fetch" href="./data/image-quality.json" crossorigin>
<link rel="stylesheet" href="./styles.css"/>
<script defer src="./ui.js"></script>
<link type="image/png" rel="icon" href="https://www.industrialempathy.com/img/favicon/favicon-192x192.png?hash=2089033c93">
<body>

<header>
  <nav>
    <div id="nav">
      <h1><a title="Homepage" href="https://www.industrialempathy.com/">Industrial Empathy</a></h1>
      <a href="https://www.industrialempathy.com/posts/avif-webp-quality-settings/">Context</a></div>
  </nav>
</header>
<article>
<h2>AVIF and WebP quality settings picker</h2>

<p>
  This tool allows picking the right quality setting for encoding AVIF and 
  WebP images such that their quality matches the quality of a JPEG of a given
  quality setting. By default the tool will <b>automatically</b> pick the quality
  setting such that the visual difference (as determined by 
  <a href="https://github.com/kornelski/dssim" target="_blank">dssim</a>) is no worse 
  than the JPEG is from the source image.
</p>

<p>For additional context and detail, <a href="https://www.industrialempathy.com/posts/avif-webp-quality-settings/">check out my accompanying blog post</a> and <a href="https://github.com/cramforce/avif-webp-quality-setting">the open source project for generating the underlying data</a>.</p>

<h3>Image options</h3>
<select id="sample" aria-label="Sample image" onchange="loadImages()">
<option  value="./quality-samples/sample0.jpg">sample0.jpg</option>,<option selected value="./quality-samples/sample1.jpg">sample1.jpg</option>,<option  value="./quality-samples/sample2.jpg">sample2.jpg</option>,<option  value="./quality-samples/sample3.jpg">sample3.jpg</option>,<option  value="./quality-samples/sample4.jpg">sample4.jpg</option>,<option  value="./quality-samples/sample5.jpg">sample5.jpg</option>
</select>
<select id="width" aria-label="Image width" onchange="loadImages()">
<option  value="150">150px width</option>,<option  value="300">300px width</option>,<option selected value="768">768px width</option>,<option  value="1024">1024px width</option>,<option  value="1536">1536px width</option>,<option  value="2048">2048px width</option>,<option  value="2560">2560px width</option>
</select>
<select id="quality" aria-label="JPEG reference quality setting" onchange="loadImages()">
<option  value="70">70 JPEG quality</option>,<option  value="71">71 JPEG quality</option>,<option  value="72">72 JPEG quality</option>,<option  value="73">73 JPEG quality</option>,<option  value="74">74 JPEG quality</option>,<option  value="75">75 JPEG quality</option>,<option  value="76">76 JPEG quality</option>,<option  value="77">77 JPEG quality</option>,<option  value="78">78 JPEG quality</option>,<option  value="79">79 JPEG quality</option>,<option  value="80">80 JPEG quality</option>,<option  value="81">81 JPEG quality</option>,<option  value="82">82 JPEG quality</option>,<option  value="83">83 JPEG quality</option>,<option  value="84">84 JPEG quality</option>,<option  value="85">85 JPEG quality</option>,<option  value="86">86 JPEG quality</option>,<option  value="87">87 JPEG quality</option>,<option  value="88">88 JPEG quality</option>,<option  value="89">89 JPEG quality</option>,<option  value="90">90 JPEG quality</option>,<option  value="91">91 JPEG quality</option>,<option  value="92">92 JPEG quality</option>,<option  value="93">93 JPEG quality</option>,<option  value="94">94 JPEG quality</option>,<option  value="95">95 JPEG quality</option>,<option  value="96">96 JPEG quality</option>,<option  value="97">97 JPEG quality</option>,<option  value="98">98 JPEG quality</option>,<option  value="99">99 JPEG quality</option>
</select>
<select id="format" aria-label="Image format" onchange="loadImages()">
<option value="webp">WEBP</option>
</select>
<select id="formatQuality" aria-label="Format quality" onchange="loadImages()">
  <option value="BEST">Best match for JPEG quality</option>
  <option value="70">Quality 70</option>,<option value="71">Quality 71</option>,<option value="72">Quality 72</option>,<option value="73">Quality 73</option>,<option value="74">Quality 74</option>,<option value="75">Quality 75</option>,<option value="76">Quality 76</option>,<option value="77">Quality 77</option>,<option value="78">Quality 78</option>,<option value="79">Quality 79</option>,<option value="80">Quality 80</option>,<option value="81">Quality 81</option>,<option value="82">Quality 82</option>,<option value="83">Quality 83</option>,<option value="84">Quality 84</option>,<option value="85">Quality 85</option>,<option value="86">Quality 86</option>,<option value="87">Quality 87</option>,<option value="88">Quality 88</option>,<option value="89">Quality 89</option>,<option value="90">Quality 90</option>,<option value="91">Quality 91</option>,<option value="92">Quality 92</option>,<option value="93">Quality 93</option>,<option value="94">Quality 94</option>,<option value="95">Quality 95</option>,<option value="96">Quality 96</option>,<option value="97">Quality 97</option>,<option value="98">Quality 98</option>,<option value="99">Quality 99</option>,<option value="100">Quality 100</option>
</select>
<select id="dpi" aria-label="DPI" onchange="loadImages()">
  <option value="1">1x DPI</option>
  <option selected value="2">2x DPI</option>
  <option value="3">3x DPI</option>
</select>
<div id="output" style="display:none" aria-live="polite">
  <h3 id="images">Images</h3>
  <table aria-labelledby="images">
    <tr>
      <th id="referenceHeader"></th>
      <th id="formatHeader"></th>
    </tr>
    <tr>
      <td id="referenceImage" aria-label="Reference image"></td>
      <td id="formatImage" aria-label="Image with selected options"></td>
    </tr>
  </table>
  <dl>
    <dt>Size reduction compared to JPEG</dt>
    <dd id="sizeReduction"></dd>
    <dt>DSSIM similarity to source image</dt>
    <dd id="dssim"></dd>
  </dl>
</div>

<p>
  <a href="https://www.industrialempathy.com/" target="_top">Made by Malte Ubl</a>
</p>
</article>
</body>